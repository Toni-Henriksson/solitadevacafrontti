{"ast":null,"code":"import axios from \"axios\";\nexport const HandleSearch = async (parameter, endpoint, _ref) => {\n  let {\n    setValue,\n    setRouteCalculations\n  } = _ref;\n  console.log(parameter, endpoint);\n  axios.get(\"http://localhost:3001/\" + endpoint, {\n    params: {\n      parameter\n    }\n  }).then(response => {\n    setValue(response.data); // Stations page has chained calculation function hooked up to it.\n\n    if (endpoint === 'getStationByName') {\n      calculateStationJourneys(response.data[0].ID);\n    }\n  });\n\n  const calculateStationJourneys = async stationid => {\n    axios.get(\"http://localhost:3001/getStationJourneys\", {\n      params: {\n        stationid\n      }\n    }).then(response => {\n      setRouteCalculations(response.data);\n    });\n  };\n};\n_c = HandleSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"HandleSearch\");","map":{"version":3,"names":["axios","HandleSearch","parameter","endpoint","setValue","setRouteCalculations","console","log","get","params","then","response","data","calculateStationJourneys","ID","stationid"],"sources":["C:/Users/Henri/Desktop/Projektit/SolitaHaaste2022/client/src/utils/reusablefunctions/HandleSearch.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const HandleSearch = async(parameter, endpoint, {setValue, setRouteCalculations}) => {\r\n    console.log(parameter, endpoint)\r\n    axios.get(\"http://localhost:3001/\" + endpoint, { params: { parameter } }).then((response) => {  \r\n      setValue(response.data);\r\n      // Stations page has chained calculation function hooked up to it.\r\n      if(endpoint === 'getStationByName'){\r\n        calculateStationJourneys(response.data[0].ID);\r\n      }\r\n    });\r\n\r\n    const calculateStationJourneys = async(stationid) => {\r\n        axios.get(\"http://localhost:3001/getStationJourneys\", { params: { stationid } }).then((response) => {\r\n            setRouteCalculations(response.data);\r\n        });\r\n    }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,YAAY,GAAG,OAAMC,SAAN,EAAiBC,QAAjB,WAAgE;EAAA,IAArC;IAACC,QAAD;IAAWC;EAAX,CAAqC;EACxFC,OAAO,CAACC,GAAR,CAAYL,SAAZ,EAAuBC,QAAvB;EACAH,KAAK,CAACQ,GAAN,CAAU,2BAA2BL,QAArC,EAA+C;IAAEM,MAAM,EAAE;MAAEP;IAAF;EAAV,CAA/C,EAA0EQ,IAA1E,CAAgFC,QAAD,IAAc;IAC3FP,QAAQ,CAACO,QAAQ,CAACC,IAAV,CAAR,CAD2F,CAE3F;;IACA,IAAGT,QAAQ,KAAK,kBAAhB,EAAmC;MACjCU,wBAAwB,CAACF,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBE,EAAlB,CAAxB;IACD;EACF,CAND;;EAQA,MAAMD,wBAAwB,GAAG,MAAME,SAAN,IAAoB;IACjDf,KAAK,CAACQ,GAAN,CAAU,0CAAV,EAAsD;MAAEC,MAAM,EAAE;QAAEM;MAAF;IAAV,CAAtD,EAAiFL,IAAjF,CAAuFC,QAAD,IAAc;MAChGN,oBAAoB,CAACM,QAAQ,CAACC,IAAV,CAApB;IACH,CAFD;EAGH,CAJD;AAKH,CAfM;KAAMX,Y"},"metadata":{},"sourceType":"module"}