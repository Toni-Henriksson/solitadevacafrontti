{"ast":null,"code":"module.exports = async function fetchChunk(url, opts) {\n  let onProgress = opts ? opts.onProgress : undefined;\n  const response = await fetch(url, opts);\n  const reader = response.body.getReader();\n  let result = await reader.read();\n  let total = 0;\n  let contentLength = parseInt(response.headers.get(\"Content-Length\") || 0);\n\n  while (!result.done) {\n    const value = result.value;\n    total += value.length;\n\n    if (typeof onProgress === \"function\") {\n      onProgress(value, {\n        contentLength,\n        transferredLength: total\n      });\n    }\n\n    result = await reader.read();\n  }\n\n  return response;\n};","map":{"version":3,"names":["module","exports","fetchChunk","url","opts","onProgress","undefined","response","fetch","reader","body","getReader","result","read","total","contentLength","parseInt","headers","get","done","value","length","transferredLength"],"sources":["C:/Users/Henri/Desktop/Projektit/SolitaHaaste2022/client/node_modules/fetch-chunk/fetch-chunk.js"],"sourcesContent":["module.exports = async function fetchChunk(url, opts) {\r\n    let onProgress = opts?opts.onProgress:undefined;\r\n    const response = await fetch(url, opts);\r\n    const reader = response.body.getReader();\r\n    let result = await reader.read();\r\n    let total = 0;\r\n    let contentLength = parseInt(response.headers.get(\"Content-Length\") || 0);\r\n\r\n    while (!result.done) {\r\n        const value = result.value;\r\n        total += value.length;\r\n        if(typeof onProgress === \"function\") {\r\n            onProgress(value, {\r\n                contentLength,  \r\n                transferredLength: total\r\n            });\r\n        }\r\n        result = await reader.read();\r\n    }\r\n\r\n    return response;\r\n}"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiB,eAAeC,UAAf,CAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;EAClD,IAAIC,UAAU,GAAGD,IAAI,GAACA,IAAI,CAACC,UAAN,GAAiBC,SAAtC;EACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAD,EAAMC,IAAN,CAA5B;EACA,MAAMK,MAAM,GAAGF,QAAQ,CAACG,IAAT,CAAcC,SAAd,EAAf;EACA,IAAIC,MAAM,GAAG,MAAMH,MAAM,CAACI,IAAP,EAAnB;EACA,IAAIC,KAAK,GAAG,CAAZ;EACA,IAAIC,aAAa,GAAGC,QAAQ,CAACT,QAAQ,CAACU,OAAT,CAAiBC,GAAjB,CAAqB,gBAArB,KAA0C,CAA3C,CAA5B;;EAEA,OAAO,CAACN,MAAM,CAACO,IAAf,EAAqB;IACjB,MAAMC,KAAK,GAAGR,MAAM,CAACQ,KAArB;IACAN,KAAK,IAAIM,KAAK,CAACC,MAAf;;IACA,IAAG,OAAOhB,UAAP,KAAsB,UAAzB,EAAqC;MACjCA,UAAU,CAACe,KAAD,EAAQ;QACdL,aADc;QAEdO,iBAAiB,EAAER;MAFL,CAAR,CAAV;IAIH;;IACDF,MAAM,GAAG,MAAMH,MAAM,CAACI,IAAP,EAAf;EACH;;EAED,OAAON,QAAP;AACH,CArBD"},"metadata":{},"sourceType":"script"}